'use client';

import React, { useEffect } from 'react';

export default function AudioCtx({ ctx }): React.FC<{ ctx: AudioContext }> {
  function initAudioContext(): void {
    console.log('initCtx entered');
    if (!ctx) {
      ctx = new AudioContext(); // ctx = new (window.AudioContext || window.webkitAudioContext)();
      console.log('new AudioContext: ' + ctx);
    }
  }

  useEffect(() => {
    document.addEventListener('click', initAudioContext);

    return () => {
      document.removeEventListener('click', initAudioContext);
    };
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  return null;
}
